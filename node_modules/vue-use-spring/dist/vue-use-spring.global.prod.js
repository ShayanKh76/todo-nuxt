/*!
  * vue-use-spring v0.0.1
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
var VueUseSpring=function(e,n){"use strict";const t={mass:1,tension:170,friction:26,precision:.01},o={mass:1,tension:120,friction:14,precision:.01},r={mass:1,tension:180,friction:12,precision:.01},s={mass:1,tension:210,friction:20,precision:.01},i={noWobble:t,gentle:o,wobbly:r,stiff:s},l="undefined"!=typeof window,a=l?window.requestAnimationFrame.bind(window):()=>{},c=l?window.cancelAnimationFrame.bind(window):()=>{},u="undefined"!=typeof performance?performance.now.bind(performance):Date.now.bind(Date),f=Array.isArray.bind(Array),d=[0,0];function p(e,n,t,o,r){const s=t+(-r.tension*(n-o)+-r.friction*t)/(r.mass||1)*e,i=n+s*e,l=r.precision||.01;return Math.abs(s)<l&&Math.abs(i-o)<l?(d[0]=o,d[1]=0,d):(d[0]=i,d[1]=s,d)}const g=1e3/60;function m(e,n){const t=f(e)?[]:{},o=f(e)?[]:{};for(const r in e)t[r]=e[r],o[r]=n?n[r]:0;return[t,o]}const v=()=>{};function w(e,o=t,r={}){const s=o||t,i=r.onRest||v,l=n.ref(e);let d=!1,w=0,y=0;n.watch(l,((e,n)=>{d||(w=u(),y=0,R())}),{deep:!0});const b=m(l.value,null),h=n.ref(b[0]),x=n.ref(b[1]);let k,C=b[0],M=b[1];function R(){k=a((()=>{if(function(e,n,t){for(const o in n){if(0!==t[o])return!1;if(e[o]!==n[o])return!1}return!0}(h.value,l.value,x.value))return d&&i(),k=null,void(d=!1);d=!0;const e=u(),t=e-w;if(w=e,y+=t,y>10*g&&(y=0),0===y)return k=null,R();const o=(y-Math.floor(y/g)*g)/g,r=Math.floor(y/g);!function(e,n,t,o,r,s,i,l){for(const a in o){let c=i[a],u=l[a];const f=o[a];for(let n=0;n<e;n++)[c,u]=p(g/1e3,c,u,f,t);const[d,m]=p(g/1e3,c,u,f,t);r[a]=c+(d-c)*n,s[a]=u+(m-u)*n,i[a]=c,l[a]=u}}(r,o,n.unref(s),l.value,h.value,x.value,C,M),k=null,y-=r*g,R()}))}n.onMounted((()=>{w=u(),y=0;const e=m(h.value,x.value);C=e[0],M=e[1],R()})),n.onUnmounted((()=>{k&&c(k)}));const L=f(l.value)?[]:{};for(const e in l.value)L[e]=n.computed({get:()=>h.value[e],set:n=>l.value[e]=n});return L.reset=e=>{Object.assign(h.value,e),Object.assign(l.value,e),d=!1,k=null},n.reactive(L)}const y=new WeakMap,b=new WeakMap,h=n.defineComponent({name:"TransitionGroup",props:{config:Object,tag:String},setup(e,{slots:t}){const o=w({x:0,y:0}),r=w({x:0,y:0}),s=w({x:0,y:0}),i=w({x:0,y:0}),l={Ipsum:o,Lorem:r,Dolor:s,Sit:i};let a,c;return window.pos2=r,n.watch((()=>r),(()=>{const e="Lorem";console.log("watch pos2");const n=c.find((n=>n.key===e));if(n){const e=n.el.style,t=r.x,o=r.y;console.log("watch Lorem",{dx:t,dy:o}),e.transform=e.webkitTransform=`translate(${t}px,${o}px)`}else console.log("not found",e)}),{deep:!0,flush:"post"}),n.onUpdated((()=>{if(!a.length)return;a.forEach(x);const e=a.filter((e=>k(e,l)));document,e.forEach((e=>{const n=e.el;setTimeout((()=>{r.x=0,r.y=0,console.log("moved",e.key)}),1e3);const t=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",t),n._moveCb=null)};n.addEventListener("transitionend",t)}))})),()=>{const o=n.toRaw(e).tag||n.Fragment;a=c,c=t.default?n.getTransitionRawChildren(t.default()):[];for(let e=0;e<c.length;e++){}if(a)for(let e=0;e<a.length;e++){const n=a[e];y.set(n,n.el.getBoundingClientRect()),console.log("saved before render",n.key,n.el.getBoundingClientRect())}return n.createVNode(o,null,c)}}});function x(e){b.set(e,e.el.getBoundingClientRect()),console.log("saved after render",e.key,e.el.getBoundingClientRect())}function k(e,n){const t=y.get(e),o=b.get(e),r=t.left-o.left,s=t.top-o.top;if("Lorem"===e.key&&pos2.reset({x:r,y:s}),console.log("reset",e.key,{...n[e.key]}),r||s){const n=e.el.style;return n.transform=n.webkitTransform=`translate(${r}px,${s}px)`,n.transitionDuration="0s",e}}return e.SpringGroup=h,e.gentle=o,e.noWobble=t,e.presets=i,e.stiff=s,e.useSpring=w,e.wobbly=r,Object.defineProperty(e,"__esModule",{value:!0}),e}({},Vue);
