"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("vue-demi");function t(e,t){return e.map((function(e,n){return e+t[n]}))}function n(e,t){return e.map((function(e,n){return e-t[n]}))}function r(e){return Math.hypot.apply(Math,e)}function i(e,t){void 0===t&&(t=e);var n=r(t),i=0===n?0:1/n,o=t.map((function(e){return i*e}));return{distance:r(e),direction:o}}function o(e,t,n){var i=r(t),o=0===i?0:1/i,a=0===n?0:1/n,u=a*i,s=t.map((function(e){return a*e})),c=t.map((function(e){return o*e}));return{velocities:s,velocity:u,distance:r(e),direction:c}}function a(e){return Math.sign?Math.sign(e):Number(e>0)-Number(e<0)||+e}function u(e,t,n){return 0===t||Infinity===Math.abs(t)?function(e,t){return Math.pow(e,5*t)}(e,n):e*t*n/(t+n*e)}function s(e,t,n,r){return void 0===r&&(r=.15),0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-u(t-e,n-t,r)+t:e>n?+u(e-n,n-t,r)+n:e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function d(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function p(){}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?p:1===t.length?t[0]:function(){for(var e,n,r=h(t);!(n=r()).done;){var i=n.value;e=i.apply(this,arguments)||e}return e}}function m(e,t){if(void 0===e){if(void 0===t)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function y(e,t){return Object.assign({},t,e||{})}function w(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function b(e,t){void 0===e&&(e={});for(var n={},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],u=o[1];switch(typeof u){case"function":n[a]=u.call(n,e[a],a,e);break;case"object":n[a]=b(e[a],u);break;case"boolean":u&&(n[a]=e[a])}}return n}var S={threshold:function(e){return void 0===e&&(e=0),m(e)},rubberband:function(e){switch(void 0===e&&(e=0),e){case!0:return m(.15);case!1:return m(0);default:return m(e)}},enabled:function(e){return void 0===e&&(e=!0),e},triggerAllEvents:function(e){return void 0===e&&(e=!1),e},initial:function(e){return void 0===e&&(e=0),"function"==typeof e?e:m(e)}},_=c({},S,{axis:!0,lockDirection:function(e){return void 0===e&&(e=!1),e},bounds:function(e){if(void 0===e&&(e={}),"function"==typeof e)return function(t){return _.bounds(e(t))};var t=e.left,n=e.right,r=e.top,i=e.bottom;return[[void 0===t?-Infinity:t,void 0===n?Infinity:n],[void 0===r?-Infinity:r,void 0===i?Infinity:i]]}}),M="undefined"!=typeof window&&window.document&&window.document.createElement,G={enabled:function(e){return void 0===e&&(e=!0),e},domTarget:!0,window:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return void 0===e&&(e=M?window:void 0),e})),eventOptions:function(e){var t=void 0===e?{}:e,n=t.passive,r=t.capture;return{passive:void 0===n||n,capture:void 0!==r&&r}}},O=c({},S,{bounds:function(e,t,n){var r=n.distanceBounds,i=void 0===r?{}:r,o=n.angleBounds,a=void 0===o?{}:o,u=function(e){var t=y(w(i,e),{min:-Infinity,max:Infinity});return[t.min,t.max]},s=function(e){var t=y(w(a,e),{min:-Infinity,max:Infinity});return[t.min,t.max]};return"function"!=typeof i&&"function"!=typeof a?[u(),s()]:function(e){return[u(e),s(e)]}}}),T=c({},_,{threshold:function(e,t,n){var r=n.filterTaps,i=void 0!==r&&r,o=n.lockDirection,a=n.axis,u=m(e,i?3:void 0!==o&&o||(void 0===a?void 0:a)?1:0);return this.filterTaps=i||u[0]+u[1]>0,u},swipeVelocity:function(e){return void 0===e&&(e=.5),m(e)},swipeDistance:function(e){return void 0===e&&(e=60),m(e)},delay:function(e){switch(void 0===e&&(e=0),e){case!0:return 180;case!1:return 0;default:return e}}});function x(e){return void 0===e&&(e={}),b(e,G)}function E(e){return void 0===e&&(e={}),b(e,_)}function K(e){return void 0===e&&(e={}),b(e,O)}function I(e){return void 0===e&&(e={}),b(e,T)}function k(e){var t=e.domTarget,n=e.eventOptions,r=e.window,i=e.enabled,o=d(e,["domTarget","eventOptions","window","enabled"]),a=x({domTarget:t,eventOptions:n,window:r,enabled:i});return a.move=E(o),a}function j(e){var t=e.domTarget,n=e.eventOptions,r=e.window,i=e.enabled,o=d(e,["domTarget","eventOptions","window","enabled"]),a=x({domTarget:t,eventOptions:n,window:r,enabled:i});return a.hover=c({enabled:!0},o),a}function D(e){var t=e.domTarget,n=e.eventOptions,r=e.window,i=e.enabled,o=d(e,["domTarget","eventOptions","window","enabled"]),a=x({domTarget:t,eventOptions:n,window:r,enabled:i});return a.drag=I(o),a}function A(e){var t=e.domTarget,n=e.eventOptions,r=e.window,i=e.enabled,o=d(e,["domTarget","eventOptions","window","enabled"]),a=x({domTarget:t,eventOptions:n,window:r,enabled:i});return a.pinch=K(o),a}function H(e){var t=e.domTarget,n=e.eventOptions,r=e.window,i=e.enabled,o=d(e,["domTarget","eventOptions","window","enabled"]),a=x({domTarget:t,eventOptions:n,window:r,enabled:i});return a.scroll=E(o),a}function P(e){var t=e.domTarget,n=e.eventOptions,r=e.window,i=e.enabled,o=d(e,["domTarget","eventOptions","window","enabled"]),a=x({domTarget:t,eventOptions:n,window:r,enabled:i});return a.wheel=E(o),a}function C(e){return c({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-Infinity,Infinity],[-Infinity,Infinity]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:p,canceled:!1,memo:void 0,args:void 0},e)}function W(){return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},drag:C({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),pinch:C({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),wheel:C({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),move:C({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),scroll:C({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0})}}var L=new Map,V=function(){function e(e,t){var n=this;void 0===t&&(t=[]),this.controller=e,this.args=t,this.debounced=!0,this.setTimeout=function(e,t){var r;void 0===t&&(t=140),clearTimeout(n.controller.timeouts[n.stateKey]);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];n.controller.timeouts[n.stateKey]=(r=window).setTimeout.apply(r,[e,t].concat(o))},this.clearTimeout=function(){clearTimeout(n.controller.timeouts[n.stateKey])},this.fireGestureHandler=function(e){if(void 0===e&&(e=!1),n.state._blocked)return n.debounced||(n.state._active=!1,n.clean()),null;if(!e&&!n.state.intentional&&!n.config.triggerAllEvents)return null;if(n.state.intentional){var t=n.state.active,r=n.state._active;n.state.active=r,n.state.first=r&&!t,n.state.last=t&&!r,n.controller.state.shared[n.ingKey]=r}var i=c({},n.controller.state.shared,n.state,n.mapStateValues(n.state)),o=n.handler(i);return n.state.memo=void 0!==o?o:n.state.memo,n.state._active||n.clean(),i}}var r,i=e.prototype;return i.updateSharedState=function(e){Object.assign(this.controller.state.shared,e)},i.updateGestureState=function(e){Object.assign(this.state,e)},i.checkIntentionality=function(e,t){return{_intentional:e,_blocked:!1}},i.getMovement=function(e){var r=this.config,i=r.initial,o=r.bounds,a=r.rubberband,u=r.threshold,s=this.state,l=s._bounds,d=s._initial,v=s._active,f=s._intentional,h=s.lastOffset,p=s.movement,g=this.getInternalMovement(e,this.state),m=!1===f[0]?B(g[0],u[0]):f[0],y=!1===f[1]?B(g[1],u[1]):f[1],b=this.checkIntentionality([m,y],g);if(b._blocked)return c({},b,{_movement:g,delta:[0,0]});var S,_,M,G,O=b._intentional,T=g;!1!==O[0]&&!1===f[0]&&(_=w(i,this.state),S=w(o,this.state),d[0]=_[0],l[0]=S[0]),!1!==O[1]&&!1===f[1]&&(_=null!==(M=_)&&void 0!==M?M:w(i,this.state),S=null!==(G=S)&&void 0!==G?G:w(o,this.state),d[1]=_[1],l[1]=S[1]);var x=[!1!==O[0]?g[0]-O[0]:d[0],!1!==O[1]?g[1]-O[1]:d[1]],E=t(x,h),K=v?a:[0,0];return x=R(l,t(x,d),K),c({},b,{intentional:!1!==O[0]||!1!==O[1],_initial:d,_movement:T,movement:x,values:e,offset:R(l,E,K),delta:n(x,p)})},i.clean=function(){this.clearTimeout()},(r=[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,r),e}();function B(e,t){return Math.abs(e)>=t&&a(e)*t}function R(e,t,n){var r=t[1],i=n[1],o=e[0],a=e[1],u=a[0],c=a[1];return[s(t[0],o[0],o[1],n[0]),s(r,u,c,i)]}function X(e,t,n){var r=e.state,i=t.timeStamp;return{_lastEventType:t.type,event:t,timeStamp:i,elapsedTime:n?0:i-r.startTime,args:e.args,previous:r.values}}function Y(e,t,n){var r=e.state.offset,i=n.timeStamp;return c({},W()[e.stateKey],{_active:!0,values:t,initial:t,offset:r,lastOffset:r,startTime:i})}function F(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.call.apply(e,[this,c({},t,{event:n})].concat(i))}}var q=function(e){var t=this;this.classes=e,this.bind=function(){for(var e={},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o,a=h(t.classes);!(o=a()).done;){var u=o.value;new u(t,r).addBindings(e)}for(var s=0,l=Object.entries(t.nativeRefs);s<l.length;s++){var d=l[s],v=d[0],f=d[1];Z(e,v,F(f,c({},t.state.shared,{args:r})))}return t.config.domTarget?N(t,e):U(t,e)},this.effect=function(){return t.config.domTarget&&t.bind(),t.clean},this.clean=function(){var e=Q(t.config),n=t.config.eventOptions;e&&te(e,J(t.domListeners),n),Object.values(t.timeouts).forEach(clearTimeout),function(e){var t=e.config,n=t.window,r=t.eventOptions,i=e.windowListeners;if(n){for(var o in i)te(n,i[o],r);e.windowListeners={}}}(t)},this.state=W(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function z(e,t){var n=e.config,r=e.windowListeners;n.window&&(te(n.window,r[t],n.eventOptions),delete r[t])}function $(e,t,n){var r=e.config,i=e.windowListeners;void 0===n&&(n=[]),r.window&&(te(r.window,i[t],r.eventOptions),ee(r.window,i[t]=n,r.eventOptions))}function N(e,t){var n=e.config,r=e.domListeners,i=Q(n);if(!i)throw new Error("domTarget must be defined");var o=n.eventOptions;te(i,J(r),o);for(var a=0,u=Object.entries(t);a<u.length;a++){var s=u[a],c=s[1],l=s[0].slice(2).toLowerCase();r.push([l,g.apply(void 0,c)])}ee(i,r,o)}function U(e,t){for(var n={},r=e.config.eventOptions.capture?"Capture":"",i=0,o=Object.entries(t);i<o.length;i++){var a=o[i],u=a[0],s=a[1],c=Array.isArray(s)?s:[s];n[u+r]=g.apply(void 0,c)}return n}function J(e){return void 0===e&&(e=[]),e.splice(0,e.length)}function Q(e){var t=e.domTarget;return t&&"value"in t?t.value:t}function Z(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function ee(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,i=h(t);!(r=i()).done;){var o=r.value;e.addEventListener(o[0],o[1],n)}}function te(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,i=h(t);!(r=i()).done;){var o=r.value;e.removeEventListener(o[0],o[1],n)}}function ne(t,n,r){void 0===r&&(r={});var i=function(e){var t=new Set;return e.drag&&t.add(L.get("drag")),e.wheel&&t.add(L.get("wheel")),e.scroll&&t.add(L.get("scroll")),e.move&&t.add(L.get("move")),e.pinch&&t.add(L.get("pinch")),e.hover&&t.add(L.get("hover")),t}(t),o=new q(i);return o.config=n,o.handlers=t,o.nativeRefs=r,e.onMounted(o.effect),o.config.domTarget?re:o.bind}function re(){}var ie=function(e){function t(){return e.apply(this,arguments)||this}l(t,e);var r=t.prototype;return r.getInternalMovement=function(e,t){return n(e,t.initial)},r.checkIntentionality=function(e,t){if(!1===e[0]&&!1===e[1])return{_intentional:e,axis:this.state.axis};var n=t.map(Math.abs),r=n[0],i=n[1],o=this.state.axis||(r>i?"x":r<i?"y":void 0);return this.config.axis||this.config.lockDirection?o?this.config.axis&&o!==this.config.axis?{_intentional:e,_blocked:!0,axis:o}:(e["x"===o?1:0]=!1,{_intentional:e,_blocked:!1,axis:o}):{_intentional:[!1,!1],_blocked:!1,axis:o}:{_intentional:e,_blocked:!1,axis:o}},r.getKinematics=function(e,t){var n=this.getMovement(e);return n._blocked||Object.assign(n,o(n.movement,n.delta,t.timeStamp-this.state.timeStamp)),n},r.mapStateValues=function(e){return{xy:e.values,vxvy:e.velocities}},t}(V);function oe(e){if("touches"in e){var t=e.targetTouches;return t.length>0?t:e.changedTouches}return null}function ae(e){var t="buttons"in e?e.buttons:0,n=oe(e),r=n&&n.length||0;return{touches:r,down:r>0||t>0,buttons:t,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey}}function ue(e){var t=oe(e),n=t?t[0]:e;return[n.clientX,n.clientY]}function se(e){var t=e.currentTarget;return[t.scrollX||t.scrollLeft||0,t.scrollY||t.scrollTop||0]}function ce(e){return[e.deltaX,e.deltaY]}function le(e){return[260*e.scale,e.rotation]}function de(e){var t,n=e.targetTouches,r=n[0],i=n[1],o=i.clientX-r.clientX,a=i.clientY-r.clientY,u=(i.clientX+r.clientX)/2,s=(i.clientY+r.clientY)/2,c="nativeEvent"in e?e.nativeEvent:e;return{values:[Math.hypot(o,a),null!==(t=c.rotation)&&void 0!==t?t:-180*Math.atan2(o,a)/Math.PI],origin:[u,s]}}var ve=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="dragging",t.stateKey="drag",t.onDragStart=function(e){t.enabled&&!t.state._active&&($(t.controller,t.stateKey,[["pointermove",t.onDragChange],["pointerup",t.onDragEnd],["pointercancel",t.onDragEnd]]),t.updateGestureState({_pointerId:e.pointerId}),t.config.delay>0?t.state._delayedEvent=!0:t.startDrag(e))},t.onDragChange=function(e){if(!t.state.canceled&&e.pointerId===t.state._pointerId)if(t.state._active){var n=ae(e);if(n.down){t.updateSharedState(n);var i=ue(e),o=t.getKinematics(i,e),a=X(v(t),e),u=t.state._isTap,s=r(o._movement);u&&s>=3&&(u=!1),t.updateGestureState(c({},a,o,{_isTap:u})),t.fireGestureHandler()}else t.onDragEnd(e)}else t.state._delayedEvent&&(t.clearTimeout(),t.startDrag(e))},t.onDragEnd=function(e){if(e.pointerId===t.state._pointerId){t.state._active=!1,t.updateSharedState({down:!1,buttons:0,touches:0});var n=t.state._isTap,r=t.state.velocities,i=r[0],o=r[1],u=t.state.movement,s=u[0],l=u[1],d=t.state._intentional,f=d[0],h=d[1],p=t.config.swipeVelocity,g=p[0],m=p[1],y=t.config.swipeDistance,w=y[0],b=y[1],S=c({},X(v(t),e),t.getMovement(t.state.values)),_=[0,0];S.elapsedTime<220&&(!1!==f&&Math.abs(i)>g&&Math.abs(s)>w&&(_[0]=a(i)),!1!==h&&Math.abs(o)>m&&Math.abs(l)>b&&(_[1]=a(o))),t.updateGestureState(c({},S,{tap:n,swipe:_})),t.fireGestureHandler(!0===n)}},t.clean=function(){e.prototype.clean.call(v(t)),t.state._delayedEvent=!1,z(t.controller,t.stateKey)},t.onCancel=function(){t.state.canceled||(t.updateGestureState({canceled:!0}),t.state._active=!1,t.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame((function(){return t.fireGestureHandler()})))},t.onClick=function(e){t.state._isTap||e.stopPropagation()},t}l(t,e);var n=t.prototype;return n.startDrag=function(e){var t=ue(e);this.updateSharedState(ae(e)),this.updateGestureState(c({},Y(this,t,e),X(this,e,!0),{_pointerId:e.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(t)),this.fireGestureHandler()},n.addBindings=function(e){Z(e,"onPointerDown",this.onDragStart),this.config.filterTaps&&Z(e,this.controller.config.eventOptions.capture?"onClick":"onClickCapture",this.onClick)},t}(ie);function fe(e,t){var n,r,i=[],o=!1;return function(){for(var a=arguments.length,u=new Array(a),s=0;s<a;s++)u[s]=arguments[s];return o&&n===this&&t(u,i)||(r=e.apply(this,u),o=!0,n=this,i=u),r}}function he(e,t){try{return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o,a;if(Array.isArray(t)){if((r=t.length)!==n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if("function"==typeof Map&&t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(a=t.entries();!(i=a.next()).done;)if(!n.has(i.value[0]))return!1;for(a=t.entries();!(i=a.next()).done;)if(!e(i.value[1],n.get(i.value[0])))return!1;return!0}if("function"==typeof Set&&t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(a=t.entries();!(i=a.next()).done;)if(!n.has(i.value[0]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;if("undefined"!=typeof Element&&t instanceof Element)return!1;for(i=r;0!=i--;)if(!("_owner"===o[i]&&t.$$typeof||e(t[o[i]],n[o[i]])))return!1;return!0}return t!=t&&n!=n}(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}var pe=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="pinching",t.stateKey="pinch",t.pinchShouldStart=function(e){var n=ae(e);return t.enabled&&2===n.touches},t.onPinchStart=function(e){if(t.pinchShouldStart(e)){var n=de(e),r=n.values,i=n.origin;t.updateSharedState(ae(e)),t.updateGestureState(c({},Y(v(t),r,e),X(v(t),e,!0),{cancel:t.onCancel,origin:i})),t.updateGestureState(t.getMovement(r)),t.fireGestureHandler()}},t.onPinchChange=function(e){var n=t.state;if(!n.canceled&&n._active){var r=ae(e);t.updateSharedState(r);var i=de(e),o=i.origin,a=t.getKinematics(i.values,e);t.updateGestureState(c({},X(v(t),e),a,{origin:o})),t.fireGestureHandler()}},t.onPinchEnd=function(e){t.state.active&&(t.state._active=!1,t.updateSharedState({down:!1,touches:0}),t.updateGestureState(c({},X(v(t),e),t.getMovement(t.state.values))),t.fireGestureHandler())},t.onCancel=function(){t.state.canceled||(t.state._active=!1,t.updateGestureState({canceled:!0}),t.updateSharedState({down:!1,touches:0}),requestAnimationFrame((function(){return t.fireGestureHandler()})))},t.onGestureStart=function(e){if(t.enabled){e.preventDefault();var n=le(e);t.updateSharedState(ae(e)),t.updateGestureState(c({},Y(v(t),n,e),X(v(t),e,!0),{cancel:t.onCancel})),t.updateGestureState(t.getMovement(n)),t.fireGestureHandler()}},t.onGestureChange=function(e){var n=t.state;if(!n.canceled&&n._active){e.preventDefault();var r=ae(e);t.updateSharedState(r);var i=le(e),o=t.getKinematics(i,e);t.updateGestureState(c({},X(v(t),e),o)),t.fireGestureHandler()}},t.onGestureEnd=function(e){e.preventDefault(),t.state.active&&(t.state._active=!1,t.updateSharedState({down:!1,touches:0}),t.updateGestureState(c({},X(v(t),e),t.getMovement(t.state.values))),t.fireGestureHandler())},t.wheelShouldRun=function(e){return t.enabled&&e.ctrlKey},t.getWheelValuesFromEvent=function(e){var n=ce(e)[1],r=t.state.values,i=r[1];return{values:[r[0]-n,void 0!==i?i:0],origin:[e.clientX,e.clientY],delta:[0,n]}},t.onWheel=function(e){t.wheelShouldRun(e)&&(t.setTimeout(t.onWheelEnd),t.state._active?t.onWheelChange(e):t.onWheelStart(e))},t.onWheelStart=function(e){var n=t.getWheelValuesFromEvent(e),r=n.values,i=n.delta,o=n.origin;e.cancelable&&e.preventDefault(),t.updateSharedState(ae(e)),t.updateGestureState(c({},Y(v(t),r,e),X(v(t),e,!0),{initial:t.state.values,offset:r,delta:i,origin:o})),t.updateGestureState(t.getMovement(r)),t.fireGestureHandler()},t.onWheelChange=function(e){t.updateSharedState(ae(e));var n=t.getWheelValuesFromEvent(e),r=n.values,i=n.origin,o=n.delta;t.updateGestureState(c({},X(v(t),e),t.getKinematics(r,e),{origin:i,delta:o})),t.fireGestureHandler()},t.onWheelEnd=function(){t.state._active=!1,t.updateGestureState(t.getMovement(t.state.values)),t.fireGestureHandler()},t}return l(t,e),t.prototype.addBindings=function(e){this.controller.config.domTarget&&("undefined"==typeof window||null!==window.ontouchstart)&&function(){try{return"constructor"in GestureEvent}catch(e){return!1}}()?(Z(e,"gestureStart",this.onGestureStart),Z(e,"gestureChange",this.onGestureChange),Z(e,"gestureEnd",this.onGestureEnd)):(Z(e,"touchstart",this.onPinchStart),Z(e,"touchmove",this.onPinchChange),Z(e,"touchend",this.onPinchEnd),Z(e,"touchcancel",this.onPinchEnd),Z(e,"wheel",this.onWheel))},t}(function(e){function t(){return e.apply(this,arguments)||this}l(t,e);var r=t.prototype;return r.getInternalMovement=function(e,t){var r=t.values[1],i=e[0],o=e[1],u=void 0===o?r:o,s=u-r,c=t.turns;return Math.abs(s)>270&&(c+=a(s)),n([i,u-360*c],t.initial)},r.getKinematics=function(e,t){var n=this.getMovement(e);return c({turns:(e[1]-n.movement[1]-this.state.initial[1])/360},n,o(n.movement,n.delta,t.timeStamp-this.state.timeStamp))},r.mapStateValues=function(e){return{da:e.values,vdva:e.velocities}},t}(V)),ge=function(e){function n(){var n;return(n=e.apply(this,arguments)||this).ingKey="wheeling",n.stateKey="wheel",n.debounced=!0,n.handleEvent=function(e){if((!e.ctrlKey||!("pinch"in n.controller.handlers))&&n.enabled){n.setTimeout(n.onEnd),n.updateSharedState(ae(e));var r=t(ce(e),n.state.values);if(n.state._active)n.updateGestureState(c({},X(v(n),e),n.getKinematics(r,e)));else{n.updateGestureState(c({},Y(v(n),r,e),X(v(n),e,!0),{initial:n.state.values}));var o=n.getMovement(r),a=i(o.delta);n.updateGestureState(o),n.updateGestureState(a)}n.fireGestureHandler()}},n.onEnd=function(){var e=n.getMovement(n.state.values);n.updateGestureState(e),n.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),n.fireGestureHandler()},n}return l(n,e),n.prototype.addBindings=function(e){Z(e,"onWheel",this.handleEvent)},n}(ie),me=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="moving",t.stateKey="move",t.debounced=!0,t.onMove=function(e){t.enabled&&(t.setTimeout(t.onMoveEnd),t.state._active?t.onMoveChange(e):t.onMoveStart(e))},t.onMoveStart=function(e){t.updateSharedState(ae(e));var n=ue(e);t.updateGestureState(c({},Y(v(t),n,e),X(v(t),e,!0))),t.updateGestureState(t.getMovement(n)),t.fireGestureHandler()},t.onMoveChange=function(e){t.updateSharedState(ae(e));var n=ue(e);t.updateGestureState(c({},X(v(t),e),t.getKinematics(n,e))),t.fireGestureHandler()},t.onMoveEnd=function(){t.updateGestureState(t.getMovement(t.state.values)),t.updateGestureState({velocities:[0,0],velocity:0,_active:!1}),t.fireGestureHandler()},t.onPointerEnter=function(e){if(t.controller.state.shared.hovering=!0,t.controller.config.enabled){if(t.controller.config.hover.enabled){var n=ue(e),r=c({},t.controller.state.shared,t.state,X(v(t),e,!0),{values:n,active:!0,hovering:!0});t.controller.handlers.hover(c({},r,t.mapStateValues(r)))}"move"in t.controller.handlers&&t.onMoveStart(e)}},t.onPointerLeave=function(e){if(t.controller.state.shared.hovering=!1,"move"in t.controller.handlers&&t.onMoveEnd(),t.controller.config.hover.enabled){var n=ue(e),r=c({},t.controller.state.shared,t.state,X(v(t),e),{values:n,active:!1});t.controller.handlers.hover(c({},r,t.mapStateValues(r)))}},t}return l(t,e),t.prototype.addBindings=function(e){"move"in this.controller.handlers&&Z(e,"onPointerMove",this.onMove),"hover"in this.controller.handlers&&(Z(e,"onPointerEnter",this.onPointerEnter),Z(e,"onPointerLeave",this.onPointerLeave))},t}(ie),ye=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="scrolling",t.stateKey="scroll",t.debounced=!0,t.handleEvent=function(e){if(t.enabled){t.clearTimeout(),t.setTimeout(t.onEnd);var n=se(e);if(t.updateSharedState(ae(e)),t.state._active)t.updateGestureState(c({},X(v(t),e),t.getKinematics(n,e)));else{t.updateGestureState(c({},Y(v(t),n,e),X(v(t),e,!0),{initial:t.state.values}));var r=t.getMovement(n),o=i(r.delta);t.updateGestureState(r),t.updateGestureState(o)}t.fireGestureHandler()}},t.onEnd=function(){t.state._active=!1,t.updateGestureState(c({},t.getMovement(t.state.values),{velocities:[0,0],velocity:0})),t.fireGestureHandler()},t}return l(t,e),t.prototype.addBindings=function(e){Z(e,"onScroll",this.handleEvent)},t}(ie),we=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function be(e,t){var n=t+"Start",r=t+"End";return function(i){var o=void 0;return i.first&&n in e&&e[n](i),t in e&&(o=e[t](i)),i.last&&r in e&&e[r](i),o}}var Se={mass:1,tension:170,friction:26,precision:.01},_e={mass:1,tension:120,friction:14,precision:.01},Me={mass:1,tension:180,friction:12,precision:.01},Ge={mass:1,tension:210,friction:20,precision:.01},Oe={noWobble:Se,gentle:_e,wobbly:Me,stiff:Ge},Te="undefined"!=typeof window,xe=Te?window.requestAnimationFrame.bind(window):function(){},Ee=Te?window.cancelAnimationFrame.bind(window):function(){},Ke="undefined"!=typeof performance?performance.now.bind(performance):Date.now.bind(Date),Ie=Array.isArray.bind(Array),ke=function(e){return"function"==typeof e},je=[0,0];function De(e,t,n,r,i){var o=n+(-i.tension*(t-r)+-i.friction*n)/(i.mass||1)*e,a=t+o*e,u=i.precision||.01;return Math.abs(o)<u&&Math.abs(a-r)<u?(je[0]=r,je[1]=0,je):(je[0]=a,je[1]=o,je)}function Ae(e,t){var n=Ie(e)?[]:{},r=Ie(e)?[]:{};for(var i in e)n[i]=e[i],r[i]=t?t[i]:0;return[n,r]}var He=function(){};exports.addV=t,exports.gentle=_e,exports.noWobble=Se,exports.presets=Oe,exports.rubberbandIfOutOfBounds=s,exports.stiff=Ge,exports.subV=n,exports.useDrag=function(t,n){void 0===n&&(n={}),L.set("drag",ve);var r=e.ref();return r.value||(r.value=fe(D,he)),ne({drag:t},r.value(n))},exports.useGesture=function(e,t){void 0===t&&(t={});var n=function(e){var t={},n={},r=new Set;for(var i in e)we.test(i)?(r.add(RegExp.lastMatch),n[i]=e[i]):t[i]=e[i];return[n,t,r]}(e),r=n[0],i=n[1],o=n[2];L.set("drag",ve),L.set("hover",me),L.set("move",me),L.set("pinch",pe),L.set("scroll",ye),L.set("wheel",ge);var a=function(e,t){void 0===e&&(e={}),void 0===t&&(t=new Set);var n=e.drag,r=e.wheel,i=e.move,o=e.scroll,a=e.pinch,u=e.hover,s=x({eventOptions:e.eventOptions,window:e.window,domTarget:e.domTarget,enabled:e.enabled});return t.has("onDrag")&&(s.drag=I(n)),t.has("onWheel")&&(s.wheel=E(r)),t.has("onScroll")&&(s.scroll=E(o)),t.has("onMove")&&(s.move=E(i)),t.has("onPinch")&&(s.pinch=K(a)),t.has("onHover")&&(s.hover=c({enabled:!0},u)),s}(t,o),u={};return o.has("onDrag")&&(u.drag=be(r,"onDrag")),o.has("onWheel")&&(u.wheel=be(r,"onWheel")),o.has("onScroll")&&(u.scroll=be(r,"onScroll")),o.has("onMove")&&(u.move=be(r,"onMove")),o.has("onPinch")&&(u.pinch=be(r,"onPinch")),o.has("onHover")&&(u.hover=r.onHover),ne(u,a,i)},exports.useHover=function(t,n){void 0===n&&(n={}),L.set("hover",me);var r=e.ref();return r.value||(r.value=fe(j,he)),ne({hover:t},r.value(n))},exports.useMove=function(t,n){void 0===n&&(n={}),L.set("move",me);var r=e.ref();return r.value||(r.value=fe(k,he)),ne({move:t},r.value(n))},exports.usePinch=function(t,n){void 0===n&&(n={}),L.set("pinch",pe);var r=e.ref();return r.value||(r.value=fe(A,he)),ne({pinch:t},r.value(n))},exports.useScroll=function(t,n){void 0===n&&(n={}),L.set("scroll",ye);var r=e.ref();return r.value||(r.value=fe(H,he)),ne({scroll:t},r.value(n))},exports.useSpring=function(t,n,r){void 0===r&&(r={});var i=n||Se,o=r.onRest||He,a=ke(t)?e.ref(t()):e.ref(t),u=!1,s=0,c=0;e.watch(a,(function(e,t){u||(s=Ke(),c=0,g())}),{deep:!0});var l,d=Ae(a.value,null),v=e.ref(d[0]),f=e.ref(d[1]),h=d[0],p=d[1];function g(){l=xe((function(){if(function(e,t,n){for(var r in t){if(0!==n[r])return!1;if(e[r]!==t[r])return!1}return!0}(v.value,a.value,f.value))return u&&o(),l=null,void(u=!1);u=!0;var e=Ke(),t=e-s;if(s=e,(c+=t)>1e3/60*10&&(c=0),0===c)return l=null,g();var n=(c-Math.floor(c/(1e3/60))*(1e3/60))/(1e3/60),r=Math.floor(c/(1e3/60));!function(e,t,n,r,i,o,a,u){for(var s in r){for(var c=a[s],l=u[s],d=r[s],v=0;v<e;v++){var f=De(1e3/60/1e3,c,l,d,n);c=f[0],l=f[1]}var h=De(1e3/60/1e3,c,l,d,n),p=h[1];i[s]=c+(h[0]-c)*t,o[s]=l+(p-l)*t,a[s]=c,u[s]=l}}(r,n,i,a.value,v.value,f.value,h,p),l=null,c-=r*(1e3/60),g()}))}e.onMounted((function(){s=Ke(),c=0;var e=Ae(v.value,f.value);h=e[0],p=e[1],g()})),e.onUnmounted((function(){l&&Ee(l)}));var m=Ie(a.value)?[]:{},y=function(t){m[t]=e.computed({get:function(){return v.value[t]},set:function(e){return a.value[t]=e}})};for(var w in a.value)y(w);if(ke(t)){var b=e.toRefs(e.reactive(m));return[b,function(e){Object.keys(e).forEach((function(t){t in b&&(b[t].value=e[t],"config"in e&&Object.assign(i,{config:e.config}),"immediate"in e&&Object.assign(i,{immediate:e.immediate}))}))}]}return e.reactive(m)},exports.useWheel=function(t,n){void 0===n&&(n={}),L.set("wheel",ge);var r=e.ref();return r.value||(r.value=fe(P,he)),ne({wheel:t},r.value(n))},exports.wobbly=Me;
//# sourceMappingURL=vueusegesture.cjs.production.min.js.map
